# نظام البلاغات - Ticket Reporting System

نظام بلاغات متكامل يستقبل التذاكر من المستخدمين ويرسلها مباشرة إلى قروب تيليجرام.

## المميزات

- واجهة مستخدم عربية أنيقة ومتجاوبة
- إرسال البلاغات مباشرة إلى قروب تيليجرام
- توليد رقم تذكرة فريد لكل بلاغ
- تصنيف البلاغات حسب النوع والأولوية
- دعم التوقيت السعودي

## التثبيت

```bash
# استنساخ المشروع
git clone <repository-url>
cd ticket-ticket

# تثبيت المتطلبات
npm install

# إعداد متغيرات البيئة
cp .env.example .env
# قم بتعديل ملف .env وإضافة بيانات البوت
```

## إعداد بوت تيليجرام

1. افتح تيليجرام وابحث عن `@BotFather`
2. أرسل `/newbot` واتبع التعليمات
3. احفظ التوكن الذي ستحصل عليه

### الحصول على Chat ID للقروب

1. أضف البوت إلى القروب
2. أرسل رسالة في القروب
3. افتح الرابط التالي (استبدل TOKEN بتوكن البوت):
   ```
   https://api.telegram.org/bot<TOKEN>/getUpdates
   ```
4. ابحث عن `"chat":{"id":` في النتيجة

## تشغيل المشروع

```bash
# تشغيل السيرفر
npm start

# المشروع سيعمل على
http://localhost:3000
```

## البنية

```
ticket-ticket/
├── server.js          # الخادم الرئيسي
├── public/
│   └── index.html     # واجهة المستخدم
├── package.json
├── .env.example       # مثال لمتغيرات البيئة
└── .gitignore
```

## API

### POST /api/ticket

إرسال بلاغ جديد

```json
{
  "name": "الاسم",
  "email": "email@example.com",
  "phone": "0512345678",
  "category": "شكوى",
  "priority": "متوسط",
  "subject": "عنوان البلاغ",
  "description": "تفاصيل البلاغ"
}
```

**الرد:**
```json
{
  "success": true,
  "message": "تم إرسال البلاغ بنجاح",
  "ticketId": "TKT-XXXXX-XXXX"
}
```

## الرخصة

MIT
